# M3 Specification: Provider-Agnostic Remote Nodes with Coordination Server

## Overview

M3 introduces provider-agnostic remote node support with a coordination server. This enables running any provider (Docker, LXC, QEMU) on remote nodes, with a devcontainer-like UX including auto SSH handling, lifecycle management, service starting, port mapping, and clear messaging.

## Current Implementation Status: **20% Complete** ğŸ”´

**Last Verified**: January 13, 2026  
**Verification Method**: Architecture analysis + code review  
**Critical Correction**: Previous 33% estimate was based on incorrect architectural understanding

## Core Purpose

**Remote Devcontainer Experience**: Provide reliable development environments on remote nodes, coordinated centrally, with consistent UX across providers.

**Provider-Agnostic**: Remote support works for Docker, LXC, or QEMU on remote nodes.

## User Goals

1. **Remote Development**: Use remote nodes for powerful development environments
2. **Easy Setup**: Auto-detect/generate SSH keys, seamless remote access
3. **Automated Lifecycle**: Workspace up starts services, maps ports, handles everything
4. **Consistent UX**: Same experience as local workspaces, provider-agnostic
5. **Central Coordination**: Server manages multiple remote nodes

## Key Design Principles

### What We ARE Building:
- **Provider-Agnostic Remote Layer** with central coordination server
- **QEMU as New Provider** alongside Docker and LXC
- **Devcontainer UX**: Auto SSH, lifecycle handling, service startup
- **Port Mapping** and clear user messaging
- **Single Environment per Workspace** (container or VM, local or remote)
- **Coordination Server**: Manages remote node connections and provider execution

### What We ARE NOT Building:
- âŒ Multi-environment orchestration on single node
- âŒ Horizontal scaling
- âŒ Complex distributed systems
- âŒ Advanced networking beyond basic port mapping

## Architecture

### CRITICAL ARCHITECTURAL CORRECTION

**Previous WRONG Understanding:**
- Each provider (Docker/LXC/QEMU) needs `execRemote()` method
- Providers directly handle SSH/remote connections
- User binary calls provider-specific remote commands

**CORRECT Architecture:**
1. **Providers are container/VM drivers** - They only prepare environments locally
2. **Remote is a transport layer** - How commands reach the node agent, not provider-specific
3. **Node Agent runs on remote nodes** - Receives commands via transport (SSH/HTTP/etc)
4. **Coordination Server manages nodes** - Dispatches commands to node agents
5. **User CLI talks to coordination server** - Not directly to providers

**Correct Flow:**
```
User CLI â†’ Coordination Server â†’ [Transport: SSH/HTTP] â†’ Node Agent â†’ Provider (Docker/LXC/QEMU)
```

**NOT:**
```
User CLI â†’ Provider with execRemote() â†’ Remote Node
```

### Corrected Implementation State

```
âœ… COMPLETED                     âŒ MISSING                    âŒ MISSING
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Local Providers   â”‚         â”‚ Coordination Server â”‚       â”‚   Transport Layer   â”‚
â”‚   (All Types)       â”‚         â”‚                     â”‚       â”‚                     â”‚
â”‚                     â”‚         â”‚ â€¢ Node Management   â”‚       â”‚ â€¢ SSH Transport     â”‚
â”‚ â€¢ QEMU Local        â”‚         â”‚ â€¢ Command Dispatch  â”‚       â”‚ â€¢ HTTP Transport    â”‚
â”‚ â€¢ Docker Local      â”‚         â”‚ â€¢ Status Monitor    â”‚       â”‚ â€¢ Protocol Handling  â”‚
â”‚ â€¢ LXC Local         â”‚         â”‚ â€¢ SSH Proxy         â”‚       â”‚ âŒ Agent Communicationâ”‚
â”‚ âŒ Remote Support   â”‚         â”‚ âŒ Agent Coordinationâ”‚       â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ MISSING                      âœ… COMPLETED                   âœ… COMPLETED
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Node Agents       â”‚         â”‚ Configuration       â”‚       â”‚ Agent Integration   â”‚
â”‚                     â”‚         â”‚ System              â”‚       â”‚                     â”‚
â”‚ â€¢ Remote Execution  â”‚         â”‚ â€¢ YAML Config       â”‚       â”‚ â€¢ Rule Generation   â”‚
â”‚ â€¢ Provider Interfaceâ”‚         â”‚ â€¢ Provider Config   â”‚       â”‚ â€¢ MCP Gateway       â”‚
â”‚ â€¢ Status Reporting  â”‚         â”‚ â€¢ Service Defs      â”‚       â”‚ â€¢ Context Supply    â”‚
â”‚ âŒ Agent Server     â”‚         â”‚                     â”‚       â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Target Architecture (When Complete)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Coordination Server â”‚
â”‚  (Local Machine)     â”‚
â”‚                      â”‚
â”‚  Workspace Management â”‚
â”‚  SSH Key Handling     â”‚
â”‚  Service Coordination â”‚
â”‚  Node Agent Dispatch  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Transport: SSH/HTTP
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Remote Node     â”‚
â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Node Agent   â”‚   â”‚
â”‚  â”‚ (Receives    â”‚   â”‚
â”‚  â”‚  Commands)   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚           â”‚
â”‚         â–¼           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Provider   â”‚   â”‚
â”‚  â”‚ (Docker/LXC/ â”‚
â”‚  â”‚    QEMU)     â”‚   â”‚
â”‚  â”‚  Services    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Critical Architectural Corrections:**
- **QEMU's `execRemote()`** is misplaced transport logic, NOT a provider method
- **All providers** should be local-only - remote is coordination server + transport + node agents
- **Coordination server + node agents** represent 80% of missing functionality
- **Transport layer** (SSH/HTTP) must be extracted from QEMU and made provider-agnostic
- **Current 33% estimate was wrong** - real progress is 20% when architecture is correctly understood
âœ… COMPLETED                     âŒ MISSING                    âš ï¸ PARTIAL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   QEMU Provider     â”‚         â”‚ Coordination Server â”‚       â”‚ Docker/LXC Remote  â”‚
â”‚   (with Remote)     â”‚         â”‚                     â”‚       â”‚                     â”‚
â”‚                     â”‚         â”‚ â€¢ Node Management   â”‚       â”‚ â€¢ Remote Dispatch   â”‚
â”‚ â€¢ VM Creation       â”‚         â”‚ â€¢ SSH Proxy         â”‚       â”‚ â€¢ Service Coord     â”‚
â”‚ â€¢ Remote Execution  â”‚         â”‚ â€¢ Status Monitor    â”‚       â”‚ â€¢ Lifecycle Mgmt     â”‚
â”‚ â€¢ Basic Services    â”‚         â”‚ â€¢ Provider Dispatch â”‚       â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… COMPLETED                     âš ï¸ PARTIAL                   âœ… COMPLETED
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Configuration       â”‚         â”‚ SSH Auto-Handling   â”‚       â”‚ Agent Integration   â”‚
â”‚ System              â”‚         â”‚                     â”‚       â”‚                     â”‚
â”‚                     â”‚         â”‚ â€¢ Key Generation    â”‚       â”‚ â€¢ Rule Generation   â”‚
â”‚ â€¢ YAML Config       â”‚         â”‚ â€¢ Detection         â”‚       â”‚ â€¢ MCP Gateway       â”‚
â”‚ â€¢ Provider Config   â”‚         â”‚ â€¢ Remote Setup      â”‚       â”‚ â€¢ Context Supply    â”‚
â”‚ â€¢ Service Defs      â”‚         â”‚ âŒ Auto Config       â”‚       â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Target Architecture (When Complete)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Coordination Server â”‚
â”‚  (Local Machine)     â”‚
â”‚                      â”‚
â”‚  Workspace Management â”‚
â”‚  SSH Key Handling     â”‚
â”‚  Service Coordination â”‚
â”‚  Provider Dispatch    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ SSH/Control
            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Remote Node     â”‚
â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Provider   â”‚   â”‚
â”‚  â”‚ (Docker/LXC/ â”‚   â”‚
â”‚  â”‚    QEMU)     â”‚   â”‚
â”‚  â”‚  Services    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Coordination Server â”‚
â”‚  (Local Machine)     â”‚
â”‚                      â”‚
â”‚  Workspace Management â”‚
â”‚  SSH Key Handling     â”‚
â”‚  Service Coordination â”‚
â”‚  Provider Dispatch    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ SSH/Control
           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Remote Node     â”‚
â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Provider   â”‚   â”‚
â”‚  â”‚ (Docker/LXC/ â”‚   â”‚
â”‚  â”‚    QEMU)     â”‚   â”‚
â”‚  â”‚  Services    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Experience

### Simple Workflow:
```bash
# Create remote workspace (any provider)
nexus workspace create my-project --provider [docker|lxc|qemu] --remote node1

# Start workspace (starts environment, services, maps ports)
nexus workspace up my-project

# Connect (automatic SSH into environment)
nexus workspace connect my-project

# Stop (clean shutdown, clear messaging)
nexus workspace down my-project
```

### Configuration Focus:
- **Single `.nexus/config.yaml`** per project
- **Remote section** separate from provider config
- **Auto SSH handling** (detect/generate keys)
- **Service definitions** with auto-start
- **Port mapping** with clear user messages

## Coordination Server

- **Central Management**: Handles remote node connections
- **Lifecycle Control**: Starts/stops remote environments
- **SSH Proxy**: Secure access to remote environments
- **Status Monitoring**: Real-time remote node status
- **Provider Dispatch**: Executes provider-specific commands remotely
- **Error Handling**: Clear messages for connection issues

## Providers

- **Provider-Agnostic Remote Execution**: Coordination layer handles remote dispatch for any provider
- **QEMU Addition**: New full VM provider with configuration parity
- **Unified Interface**: All providers implement same methods
- **Remote Capabilities**: All providers support remote node execution

## SSH Handling

- **Auto-Detection**: Use existing SSH keys if available
- **Key Generation**: Create new keys if needed
- **Remote Setup**: Automatically configure on remote node
- **Secure Access**: Key-based authentication only

## Lifecycle Management

- **Workspace Up**: Start environment, start services, map ports
- **Service Startup**: Automatic in dependency order
- **Port Mapping**: Host to environment port forwarding
- **Messaging**: Clear console output (e.g., "Environment started, services ready, connect with...")
- **Workspace Down**: Stop services, shutdown environment cleanly

## Configuration

### Remote Node Configuration
```yaml
provider: [docker|lxc|qemu]  # Any provider
remote: 
  node: "remote-server-1"  # Remote node address
  user: "devuser"         # Remote user
  port: 22                # SSH port

# Provider-specific config
docker:
  image: "ubuntu:22.04"
qemu:
  image: "ubuntu:22.04"
  cpu: 4
  memory: "8G"
  disk: "50G"

services:
  web:
    command: "nginx -g 'daemon off;'"
    port: 80
    health_check: "/health"
```

## Corrected Implementation Status Matrix

| Component | Status | Completion | Architecture Issue |
|-----------|--------|------------|-------------------|
| **Local Providers (All)** | âš ï¸ Partial | 50% | QEMU has mixed responsibilities |
| **Configuration System** | âœ… Complete | 100% | Correctly implemented |
| **Agent Integration** | âœ… Complete | 100% | Correctly implemented |
| **Transport Layer** | âŒ Missing | 0% | SSH logic trapped in QEMU |
| **Coordination Server** | âŒ Missing | 0% | Critical missing component |
| **Node Agents** | âŒ Missing | 0% | Remote execution foundation |
| **SSH Key Handling** | âš ï¸ Partial | 30% | Only basic generation exists |
| **Service Orchestration** | âš ï¸ Partial | 40% | Local only, needs remote coordination |
| **Node Management CLI** | âŒ Missing | 0% | No interface to coordination server |

**Overall Progress: 20% Complete** (Corrected from 33%)

## Acceptance Criteria

### UX Criteria:
- [ ] Auto SSH key handling works seamlessly **(âš ï¸ 60% - key generation only)**
- [ ] Lifecycle commands handle everything automatically **(âŒ 0% - coordination server missing)**
- [ ] Clear messaging for all operations **(âš ï¸ 30% - basic status only)**
- [ ] Devcontainer-like experience on remote nodes **(âŒ 0% - requires coordination server)**
- [ ] Same UX for all providers (docker, lxc, qemu) **(âŒ 0% - only QEMU remote works)**

### Technical Criteria:
- [ ] Remote layer works with all providers **(âš ï¸ 33% - QEMU only)**
- [ ] Coordination server manages remote nodes **(âŒ 0% - not implemented)**
- [ ] Services start with dependencies respected **(âš ï¸ 20% - basic startup only)**
- [ ] Ports mapped and accessible from host **(âš ï¸ 40% - detection only, no mapping)**
- [ ] Secure SSH access to remote environment **(âš ï¸ 60% - key generation only)**

### Performance:
- [ ] Environment startup <60 seconds (remote) **(âš ï¸ QEMU ~45s, others not tested)**
- [ ] Command response <5 seconds **(âš ï¸ Local only, remote not tested)**
- [ ] Reasonable network latency for development **(âŒ Not measurable - coordination server missing)**

## Verification Findings

### What's Working âœ…
1. **Local Provider Foundation**: All providers work locally
   - QEMU: VM creation, local lifecycle management  
   - Docker: Local container operations
   - LXC: Local container operations
   - Provider interface well-defined

2. **Configuration System**: Complete YAML-based configuration
   - Provider-specific settings for all types
   - Service definitions with commands and dependencies
   - Remote node configuration structure ready (unused)

3. **Agent Integration**: Full MCP gateway functionality
   - Rule generation from templates
   - Context supply for AI agents
   - Plugin system integration

### Critical Architectural Gaps âŒ
1. **Transport Layer**: Completely missing (0%)
   - No dedicated SSH/HTTP transport between coordination server and node agents
   - QEMU's SSH logic is trapped inside provider, wrong architectural layer
   - No provider-agnostic communication protocol

2. **Coordination Server**: Completely missing (0%)
   - No central management of remote nodes
   - No provider dispatch system to node agents
   - No status monitoring or SSH proxy functionality
   - CLI talks directly to providers instead of coordination server

3. **Node Agents**: Completely missing (0%)
   - No agent that runs on remote nodes
   - No command reception from coordination server
   - No local provider execution on remote machines
   - No status reporting back to coordination server

### Architectural Anti-Patterns âš ï¸
1. **QEMU Mixed Responsibilities**: Provider incorrectly implements transport
   - `execRemote()` method violates separation of concerns
   - Creates provider-specific remote handling instead of unified approach
   - Makes other providers appear "broken" for remote support

2. **Missing Layers**: Architecture has gaps between components
   - No transport layer â†’ providers handle their own remote
   - No node agents â†’ coordination server has no remote execution targets
   - No coordination server â†’ no central management possible

### Partial Implementation âš ï¸
1. **SSH Handling**: Key generation works, but:
   - No automatic remote configuration
   - No SSH proxy functionality
   - Manual key setup required

2. **Service Orchestration**: Basic implementation:
   - Service startup works but dependency handling incomplete
   - Port detection works but no mapping/forwarding
   - No health checking or restart logic

## Corrected Implementation Priority

### Phase 1: Foundation (Critical - 20% â†’ 50%)
1. **Transport Layer**: Extract and create provider-agnostic communication
   - Extract SSH logic from QEMU provider into `pkg/transport/ssh/`
   - Implement HTTP transport for future use
   - Create command serialization protocol
   - Add response handling and error propagation

2. **Node Agent Development**: Remote execution foundation
   - Create `pkg/nodeagent/` that runs on remote nodes
   - Implement command reception from coordination server
   - Add local provider execution interface
   - Build status reporting back to coordination server

3. **Coordination Server**: Central command dispatcher
   - Create `pkg/coordination/` package
   - Implement remote node connection management
   - Add command dispatch to node agents via transport
   - Build status monitoring from agent reports
   - Add SSH proxy functionality
- Error handling and recovery

4. **Provider Cleanup**: Remove architectural violations
   - Remove `execRemote()` from QEMU provider
   - Ensure all providers are local-only
   - Add provider interface for node agent execution
   - Test all providers work through coordination server + node agent
```

#### Manual Validation
1. **Transport Layer**: SSH/HTTP communication between server and agents
2. **Node Agent**: Agent receives and executes commands on remote nodes
3. **Coordination Server**: Server manages nodes and dispatches commands
4. **Provider Cleanup**: All providers work remotely through agents (not directly)
5. **Remote Docker**: Container lifecycle on remote node via coordination
6. **Remote LXC**: Container lifecycle on remote node via coordination
7. **Remote QEMU**: VM lifecycle on remote node via coordination (not direct)

### Validation Criteria
- [ ] All providers work remotely via coordination server
- [ ] SSH auto-handling succeeds without manual intervention
- [ ] Services start with correct dependencies and port mapping
- [ ] Coordination server manages multiple nodes reliably
- [ ] Error handling provides clear actionable messages
- [ ] Performance targets met (<60s startup, <5s response)

## Documentation Structure

- `docs/spec/m3.md` - This master specification
- `docs/planning/README.md` - Updated planning overview
- `examples/` - Updated toy projects

**M3 Remote Node Specification - Updated 2026-01-13** ğŸ”„

## Key Updates Summary

1. **Implementation Reality Check**: Updated from assumed 100% to verified 33% completion
2. **Architecture Correction**: Clarified provider-agnostic coordination server approach  
3. **Critical Gap Identification**: Coordination server identified as missing critical component
4. **Implementation Roadmap**: Phased approach with clear milestones
5. **Testing Strategy**: Updated to reflect current state and validation requirements

## Next Steps

1. **Immediate**: Implement M3.1 Coordination Server (Week 1-2)
2. **Priority**: Complete Docker/LXC remote support (Week 2-3)
3. **Final**: UX polish and complete testing (Week 3-4)

## Success Metrics

- **M3.1**: Coordination server + 1 provider remote support = 60% complete
- **M3.2**: All providers remote support = 85% complete  
- **M3.3**: Full UX and testing = 100% complete

**Target Completion**: February 2026
